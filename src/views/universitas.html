<div class="universitas-page" style="margin-top: var(--header-height, 80px);">
  <!-- Hero Section with Search -->
  <section class="universitas-hero">
    <div class="container">
      <h1 class="universitas-title">Temukan Universitas Impian Anda di Korea</h1>
      <p class="universitas-subtitle">
        Jelajahi {{ totalUniversities }} universitas terbaik di Korea dengan program studi yang sesuai dengan minat Anda
      </p>

      <!-- Quick Search -->
      <div class="quick-search-box">
        <input
          type="text"
          v-model="quickSearch"
          @input="applyFilters"
          placeholder="Cari nama universitas atau program studi..."
          class="quick-search-input"
        >
        <button class="btn btn-primary" @click="applyFilters">
          ğŸ” Cari
        </button>
      </div>
    </div>
  </section>

  <!-- Filters & Results Section -->
  <section class="section">
    <div class="container">
      <div class="university-search-container">

        <!-- Filters Sidebar -->
        <aside class="filters-sidebar">
          <div class="filters-header">
            <h3>Filter Pencarian</h3>
            <button @click="resetFilters" class="btn-reset">Reset</button>
          </div>

          <!-- Region Filter -->
          <div class="filter-group">
            <h4 class="filter-title">ğŸ“ Wilayah</h4>
            <div class="filter-options">
              <label v-for="region in regions" :key="region" class="filter-checkbox">
                <input
                  type="checkbox"
                  :value="region"
                  v-model="filters.regions"
                  @change="applyFilters"
                >
                <span>{{ region }}</span>
              </label>
            </div>
          </div>

          <!-- Degree Level Filter -->
          <div class="filter-group">
            <h4 class="filter-title">ğŸ“ Jenjang Pendidikan</h4>
            <div class="filter-options">
              <label v-for="level in degreeLevels" :key="level" class="filter-checkbox">
                <input
                  type="checkbox"
                  :value="level"
                  v-model="filters.levels"
                  @change="applyFilters"
                >
                <span>{{ level }}</span>
              </label>
            </div>
          </div>

          <!-- University Type Filter -->
          <div class="filter-group">
            <h4 class="filter-title">ğŸ›ï¸ Jenis Universitas</h4>
            <div class="filter-options">
              <label v-for="type in universityTypes" :key="type" class="filter-checkbox">
                <input
                  type="checkbox"
                  :value="type"
                  v-model="filters.types"
                  @change="applyFilters"
                >
                <span>{{ type }}</span>
              </label>
            </div>
          </div>

          <!-- Tuition Range Filter -->
          <div class="filter-group">
            <h4 class="filter-title">ğŸ’° Biaya Kuliah (per semester)</h4>
            <div class="filter-options">
              <label v-for="range in tuitionRanges" :key="range.value" class="filter-checkbox">
                <input
                  type="radio"
                  name="tuition"
                  :value="range.value"
                  v-model="filters.tuitionRange"
                  @change="applyFilters"
                >
                <span>{{ range.label }}</span>
              </label>
            </div>
          </div>

          <!-- Features Filter -->
          <div class="filter-group">
            <h4 class="filter-title">âœ¨ Fasilitas & Program</h4>
            <div class="filter-options">
              <label class="filter-checkbox">
                <input
                  type="checkbox"
                  v-model="filters.hasScholarship"
                  @change="applyFilters"
                >
                <span>Beasiswa Tersedia</span>
              </label>
              <label class="filter-checkbox">
                <input
                  type="checkbox"
                  v-model="filters.hasEnglishProgram"
                  @change="applyFilters"
                >
                <span>Program Bahasa Inggris</span>
              </label>
              <label class="filter-checkbox">
                <input
                  type="checkbox"
                  v-model="filters.hasDormitory"
                  @change="applyFilters"
                >
                <span>Asrama Tersedia</span>
              </label>
              <label class="filter-checkbox">
                <input
                  type="checkbox"
                  v-model="filters.hasLanguageInstitute"
                  @change="applyFilters"
                >
                <span>Institut Bahasa Korea</span>
              </label>
            </div>
          </div>
        </aside>

        <!-- Results Area -->
        <div class="results-area">
          <!-- Sort & View Options -->
          <div class="results-header">
            <div class="results-count">
              Menampilkan <strong>{{ filteredUniversities.length }}</strong> dari {{ totalUniversities }} universitas
            </div>
            <div class="results-controls">
              <select v-model="sortBy" @change="sortResults" class="sort-select">
                <option value="name">Nama A-Z</option>
                <option value="ranking">Ranking</option>
                <option value="tuition-low">Biaya Terendah</option>
                <option value="tuition-high">Biaya Tertinggi</option>
              </select>
              <div class="view-toggle">
                <button
                  @click="viewMode = 'grid'"
                  :class="{ active: viewMode === 'grid' }"
                  class="view-btn"
                >
                  âŠ
                </button>
                <button
                  @click="viewMode = 'list'"
                  :class="{ active: viewMode === 'list' }"
                  class="view-btn"
                >
                  â˜°
                </button>
              </div>
            </div>
          </div>

          <!-- University Cards -->
          <div :class="['universities-grid', viewMode === 'list' ? 'list-view' : 'grid-view']">
            <div
              v-for="university in paginatedUniversities"
              :key="university.id"
              class="university-card"
              @click="viewUniversityDetail(university.id)"
            >
              <div class="university-image">
                <img :src="university.image" :alt="university.name">
                <div class="university-badges">
                  <span v-if="university.ranking" class="badge badge-primary">{{ university.ranking }}</span>
                  <span v-if="university.hasScholarship" class="badge badge-warning">ğŸ’° Beasiswa</span>
                </div>
              </div>
              <div class="university-content">
                <h3 class="university-name">{{ university.name }}</h3>
                <div class="university-meta">
                  <span class="meta-item">ğŸ“ {{ university.location }}</span>
                  <span class="meta-item">ğŸ›ï¸ {{ university.type }}</span>
                </div>
                <p class="university-description">{{ university.description }}</p>

                <div class="university-features">
                  <span v-if="university.hasEnglishProgram" class="feature-tag">ğŸŒ English Program</span>
                  <span v-if="university.hasDormitory" class="feature-tag">ğŸ  Dormitory</span>
                  <span v-if="university.hasLanguageInstitute" class="feature-tag">ğŸ—£ï¸ Language Institute</span>
                </div>

                <div class="university-tuition">
                  <span class="tuition-label">Biaya per semester:</span>
                  <span class="tuition-amount">{{ formatCurrency(university.tuitionMin) }} - {{ formatCurrency(university.tuitionMax) }}</span>
                </div>

                <div class="university-actions">
                  <button @click.stop="viewUniversityDetail(university.id)" class="btn btn-primary btn-small">
                    Lihat Detail
                  </button>
                  <button @click.stop="toggleFavorite(university.id)" class="btn btn-outline btn-small">
                    {{ isFavorite(university.id) ? 'â¤ï¸' : 'ğŸ¤' }}
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Pagination -->
          <div v-if="totalPages > 1" class="pagination">
            <button
              @click="currentPage--"
              :disabled="currentPage === 1"
              class="pagination-btn"
            >
              â† Sebelumnya
            </button>
            <span class="pagination-info">
              Halaman {{ currentPage }} dari {{ totalPages }}
            </span>
            <button
              @click="currentPage++"
              :disabled="currentPage === totalPages"
              class="pagination-btn"
            >
              Selanjutnya â†’
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
